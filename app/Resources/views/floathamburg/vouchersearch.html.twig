{% extends 'base.html.twig' %}

{% block body %}
    {{ form_start(searchForm) }}
        {{ form_errors(searchForm) }}
        {{ form_row(searchForm.vouchercode) }}
        {{ form_row(searchForm.search, { 'label': 'Search' }) }}
    {{ form_end(searchForm) }}


    <div class="table-responsive">
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th>{{ 'voucher.code'|trans }}</th>
                    <th>{{ 'creation.date'|trans }}</th>
                    <th>{{ 'expiration.date'|trans }}</th>
                    <th>{{ 'original.voucher.value'|trans }}</th>
                    <th>{{ 'postal.charge'|trans }}</th>
                    <th>{{ 'amount.used'|trans }}</th>
                    <th>{{ 'amount.remaining'|trans }}</th>
                    <th>{{ 'created.by'|trans }}</th>
                    <th>{{ 'created.at'|trans }}</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                {% for voucher in matchedVouchers %}
                    <tr>
                        <td>{{ voucher.voucherCode }}</td>
                        <td>{{ voucher.creationDate|date("d/m/Y") }}</td>
                        <td>{{ voucher.expirationDate|date("d/m/Y") }}</td>
                        <td>{{ voucher.originalValue }}</td>
                        <td>{{ voucher.includedPostalCharges ? 'included'|trans : 'not.included'|trans }}</td>
                        <td>{{ voucher.partialPayment }}</td>
                        <td>{{ voucher.originalValue - voucher.partialPayment }}</td>
                        <td>{{ voucher.author }}</td>
                        <td>{{ voucher.shopWhereCreated.name }}</td>
                        <td>
                            <a href="{{ path('voucher_use', {'id': voucher.id}) }}">{{ 'use.voucher'|trans }}</a>
                            |
                            <a href="{{ path('voucher_details', {id: voucher.id}) }}">{{ 'details'|trans }}</a>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>

        {% if currentPage > 1 %}
            <a href="{{ path('voucher_all', {'page': currentPage - 1}) }}"> {{ 'previous.page'|trans }} </a>
        {% endif %}

        {% if currentPage < numberOfPages %}
            <a href="{{ path('voucher_all', {'page': currentPage + 1}) }}"> {{ 'next.page'|trans }} </a>
        {% endif %}
    </div>
    <a href="{{ path('voucher_homepage') }}">{{ 'back'|trans }}</a>
{% endblock %}
