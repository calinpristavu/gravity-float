{% extends 'base.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
{% endblock %}

{% block body %}
    {{ form_start(searchForm) }}
        {{ form_errors(searchForm) }}
        {{ form_row(searchForm.vouchercode) }}
        {{ form_row(searchForm.search, { 'label': 'Search' }) }}
    {{ form_end(searchForm) }}

    {% if submitted == true %}
        {% if voucher != null %}
            {{ 'voucher.code'|trans }} {{ voucher.voucherCode }} <br />
            {% if voucher.onlineVoucher %}
                {{ 'is.online.voucher' }} <br />
                {{ 'voucher.order.number'|trans }} {{ voucher.orderNumber }} <br />
                {{ 'voucher.invoice.number'|trans }} {{ voucher.invoiceNumber }} <br />
                {{ 'is.included.postal.charges'|trans }}
                {% if voucher.includedPostalCharges %}
                    {{ 'yes'|trans }} <br />
                {% else %}
                    {{ 'no'|trans }} <br />
                {% endif %}
            {% endif %}
            {{ 'creation.date'|trans }} {{ voucher.creationDate|date("d/m/Y") }} <br />
            {{ 'expiration.date'|trans }} {{ voucher.expirationDate|date("d/m/Y") }} <br />
            {{ 'created.by'|trans }} {{ voucher.author }} <br />
            {{ 'created.at'|trans }} {{ voucher.shopWhereCreated.name }} <br />
            {{ 'number.of.users' }}
            {% for user in voucher.numberOfUsers %}
                {{ user }}
            {% endfor %} <br />
            {{ 'usages'|trans }}
            {% for usage in voucher.usages %}
                {{ usage }}
            {% endfor %} <br />
            {{ 'original.value'|trans }} {{ voucher.remainingValue +  voucher.partialPayment }} <br />
            {{ 'remaining.value'|trans }} {{ voucher.remainingValue }} <br />
            {{ 'voucher.method.of.payment'|trans }} {{ voucher.methodOfPayment }} <br />
            {{ 'partial.payment'|trans }} <br />
            {% for payment in voucher.payments %}
                - {{ payment }}
            {% endfor %} <br />
            {{ 'remaining.sum'|trans }} {{ voucher.remainingValue }} <br />

            {{ 'you.can.use.this.voucher.in.shop'|trans }} <br />
            {{ voucher.shopWhereCreated.name }}
            {{ voucher.shopWhereCreated.address }} <br />
            <br />
            <a href="{{ path('voucher_use', {'id': voucher.id}) }}">{{ 'use.voucher'|trans }}</a> <br />
            <a href="">{{ 'print.voucher'|trans }}</a>
            <br />
        {% else %}
            {{ 'voucher.with.code.doesnt.exist'|trans }}
        {% endif %}
    {% endif %}

    <br />
    <a href="{{ path('voucher_homepage') }}">{{ 'back'|trans }}</a>

{% endblock %}

{% block javascripts %}
    {{ parent() }}
{% endblock %}